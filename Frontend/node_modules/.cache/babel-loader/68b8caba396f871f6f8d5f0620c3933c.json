{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\onkar\\\\Desktop\\\\fullstack\\\\sad-jan-2021-k-2372-1855-team-5-main\\\\Frontend\\\\src\\\\Components\\\\MessageSender.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './MessageSender.css';\nimport { Avatar, Input } from '@material-ui/core';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../features/userSlice';\nimport db, { auth } from '../firebase';\nimport LocationSearchingIcon from '@material-ui/icons/LocationSearching';\nimport axios from '../axios';\nimport FormData from 'form-data';\n\nconst MessageSender = () => {\n  _s();\n\n  const [input, setInput] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [image, setImage] = useState(null);\n  const user = useSelector(selectUser);\n  console.log(user); //this is how we know the image//uploas store in the use stae\n\n  const handleChange = e => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (image) {\n      const imgForm = new FormData();\n      imgForm.append('file', image, image.name); //let save the image\n\n      axios.post('/upload/image', imgForm, {\n        headers: {\n          accept: 'application/json',\n          'Accept-Language': 'en-US,en;q=0.8',\n          'Content-Type': `multipart/form-data; boundary=${imgForm._boundary}`\n        }\n      }).then(res => {\n        console.log(res.data);\n        const postData = {\n          text: input,\n          imgName: res.data.filename,\n          user: user.displayName,\n          avatar: user.photoURL,\n          timestamp: Date.now()\n        };\n        console.log(postData);\n        savePost(postData);\n      });\n    } else {\n      const postData = {\n        text: input,\n        user: user.displayName,\n        avatar: user.photoURL,\n        timestamp: Date.now()\n      };\n      console.log(postData);\n      savePost(postData);\n    }\n\n    setImageUrl('');\n    setInput('');\n    setImage(null);\n  };\n\n  const savePost = async postData => {\n    await axios.post('/upload/post', postData).then(resp => {\n      console.log(resp);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"messageSender\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageSender__top\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: user.photoURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"messageSender__input\",\n          placeholder: \"What's on your mind?\",\n          value: input,\n          onChange: e => setInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"file\",\n          className: \"messageSender__fileSelector\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          type: \"submit\",\n          children: \"Hidden Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageSender__bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://www.youtube.com/user/who\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageSender__option\",\n          children: [/*#__PURE__*/_jsxDEV(VideocamIcon, {\n            style: {\n              color: 'red'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Live Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}; //<div className=\"messageSender__option\">\n// <PhotoLibraryIcon style={{ color: 'green' }} />\n//<h3>Photo/Video</h3>\n//</div>\n//<div className=\"messageSender__option\">\n/// <InsertEmoticonIcon style={{ color: 'orange' }} />\n//<h3>Feeling/Activity</h3>\n//</div>\n\n\n_s(MessageSender, \"ZUI5wU44UY/ln0b2zzCL7Y/Idgs=\", false, function () {\n  return [useSelector];\n});\n\n_c = MessageSender;\nexport default MessageSender;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageSender\");","map":{"version":3,"sources":["C:/Users/onkar/Desktop/fullstack/sad-jan-2021-k-2372-1855-team-5-main/Frontend/src/Components/MessageSender.js"],"names":["React","useState","Avatar","Input","VideocamIcon","PhotoLibraryIcon","InsertEmoticonIcon","useSelector","selectUser","db","auth","LocationSearchingIcon","axios","FormData","MessageSender","input","setInput","imageUrl","setImageUrl","image","setImage","user","console","log","handleChange","e","target","files","handleSubmit","preventDefault","imgForm","append","name","post","headers","accept","_boundary","then","res","data","postData","text","imgName","filename","displayName","avatar","photoURL","timestamp","Date","now","savePost","resp","value","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './MessageSender.css';\nimport { Avatar, Input } from '@material-ui/core';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../features/userSlice';\nimport db, { auth } from '../firebase';\nimport LocationSearchingIcon from '@material-ui/icons/LocationSearching';\n\nimport axios from '../axios';\nimport FormData from 'form-data';\n\nconst MessageSender = () => {\n  const [input, setInput] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [image, setImage] = useState(null);\n const user = useSelector(selectUser);\n\n  console.log(user);\n  //this is how we know the image//uploas store in the use stae\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (image) {\n      const imgForm = new FormData();\n      imgForm.append('file', image, image.name);\n\n      //let save the image\n      axios\n        .post('/upload/image', imgForm, {\n          headers: {\n            accept: 'application/json',\n            'Accept-Language': 'en-US,en;q=0.8',\n            'Content-Type': `multipart/form-data; boundary=${imgForm._boundary}`,\n          },\n        })\n        .then((res) => {\n          console.log(res.data);\n          const postData = {\n            text: input,\n            imgName: res.data.filename,\n            user: user.displayName,\n            avatar: user.photoURL,\n            timestamp: Date.now(),\n          };\n\n          console.log(postData);\n          savePost(postData);\n        });\n    } else {\n      const postData = {\n        text: input,\n\n        user: user.displayName,\n        avatar: user.photoURL,\n        timestamp: Date.now(),\n      };\n      console.log(postData);\n      savePost(postData);\n    }\n\n    setImageUrl('');\n    setInput('');\n    setImage(null);\n  };\n\n  const savePost = async (postData) => {\n    await axios.post('/upload/post', postData).then((resp) => {\n      console.log(resp);\n    });\n  };\n\n  return (\n    <div className='messageSender'>\n      <div className='messageSender__top'>\n        <Avatar src={user.photoURL} />\n        <form>\n          <input\n            type='text'\n            className='messageSender__input'\n            placeholder=\"What's on your mind?\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n          />\n          <Input\n            type='file'\n            className='messageSender__fileSelector'\n            onChange={handleChange}\n          />\n          <button onClick={handleSubmit} type='submit'>\n            Hidden Submit\n          </button>\n        </form>\n      </div>\n\n      <div className='messageSender__bottom'>\n        <a href='https://www.youtube.com/user/who'>\n          <div className='messageSender__option'>\n            <VideocamIcon style={{ color: 'red' }} />\n            <h3>Live Video</h3>\n          </div>\n        </a>\n      </div>\n    </div>\n  );\n};\n//<div className=\"messageSender__option\">\n// <PhotoLibraryIcon style={{ color: 'green' }} />\n//<h3>Photo/Video</h3>\n//</div>\n//<div className=\"messageSender__option\">\n/// <InsertEmoticonIcon style={{ color: 'orange' }} />\n//<h3>Feeling/Activity</h3>\n//</div>\nexport default MessageSender;\n"]},"metadata":{},"sourceType":"module"}